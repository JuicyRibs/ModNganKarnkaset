<template>
  <div style="font-family: Kanit;">
    <br />

    <div style="text-align: center;" class="container">
      <div class="row">
        <br />
        <div class="d-flex flex-row bd-highlight mb-3"></div>
      </div>
      <div class="row">
        <h1>
          <div style="text-align: left;">{{ product.name }}</div>
        </h1>
      </div>
    </div>
    <div v-html="product.video"></div>

    {{ product.id }}
    {{ product.story }}
    {{ product.price }}
    {{ product.description }}
    {{ product.type }}
    {{ product.owner_id }}
    <ProductCarousel v-if="checker" :images="image">
      <!-- Sidebar content -->
      <div class="container">
        <div class="row">
          <div class="col-md-12" style="min-height: 50rem">
            <div class="container">
              <div class="row">
                <div class="col-md-8"></div>
                <div class="col-md-4" style="background-color: white; height: 50em;">
                  <h1 style="font-weight: bold">
                    Product name
                    <h5 style="color: rgb(158, 158, 158)">Catagory</h5>
                    <h5 style="color: rgb(158, 158, 158)">Type</h5>
                  </h1>
                  <h3 style="font-weight: bolder">19.99$</h3>
                  <p style="color: rgb(43, 43, 43)">
                    Somthing about product.Somthing about product.Somthing about
                    product.Somthing about product.Somthing about
                    product.Somthing about product.Somthing about product.
                  </p>
                  <a
                    href="#"
                    class="btn btn-primary"
                    style="position: absolute; right :2em; bottom: 3em"
                  >Put in cart</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End sidebar content -->
    </ProductCarousel>
  </div>
</template>
<script>
export default {
  mounted() {
    this.getProduct(this.id);
  },
  props: {
    id: String
  },
  data() {
    return {
      product: {
        id: "",
        name: "",
        story: "",
        price: "",
        img_set_id: "",
        description: "",
        video: "",
        type: "",
        owner_id: "",
        img: {
          id: "",
          img_set_id: "",
          path: ""
        }
      },
      img: {
        id: "",
        name: "",
        owner_id: "",
        imgid: [
          {
            id: "",
            img_set_id: "",
            path: ""
          }
        ]
      },
      image: [],
      checker: false
    };
  },
  methods: {
    getProduct(id) {
      axios
        .get("/api/product/" + id)
        .then(response => this.setData(response.data));
    },
    setData(e) {
      this.product = e;
      axios.get("/api/img_set/" + e.img_set_id).then(response => {
        this.setImgData(response.data);
      });
    },
    setImgData(e) {
      this.img = e;
      var i = 0;
      for (var i = 0; i < this.img.imgid.length; ++i) {
        this.image[i] = "/storage/imgs/" + this.img.imgid[i].path;
      }
      this.checker = true;
    }
  }
};
</script>

<style lang="css">
.vue-product-carousel {
  position: absolute;
  left: 0;
  right: 0;
  height: 100%;
  transform: translateZ(0);
  background-color: #f3f3f3;
  overflow: hidden;
}

.vue-product-carousel .block-image {
  position: absolute;
  right: 33.3%;
  left: 0;
  height: 100%;
  transition: right 0.3s ease-in-out;
}

.vue-product-carousel .block-image .swipe-dots {
  display: none;
}

.vue-product-carousel .block-image .main-image {
  display: block;
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  background: no-repeat 50% 50%;
  background-size: cover;
  cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBMEE1NDY4N0E5NjMxMUU0OUYzRkEzMTk0QTU0RDA0MSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBMEE1NDY4OEE5NjMxMUU0OUYzRkEzMTk0QTU0RDA0MSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkEwQTU0Njg1QTk2MzExRTQ5RjNGQTMxOTRBNTREMDQxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkEwQTU0Njg2QTk2MzExRTQ5RjNGQTMxOTRBNTREMDQxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+DufgrwAAApdJREFUeNrcmd1qE0EUx2d20xXUK7MixaDgRyPe2hIt3tiHsPYRCuJLKOgLSCKIV32BUvHSXAfrvSkWNESKSfVKL5ImHf9jz8K6naZk5uxHPPAjsJud+e9hds6Zc6RSSsySeWLGrMTwwkvgAVgEC+AyOEf3f4NvYAdsgyb4AA6tZ9RLwoIKeA46anrr0LMVm7mnfaAMXoKBcrcBjVVOS/BD0Ff8psdc5RRcAnWVvtVpLifBZ8GWys62aE4rwfptN1X2tjnJ05MEN1R+1phW8KrK39ZM2qQhNJfBJxDmHNR+glugf1poflYAsdougKfJi0kPXwGfwVxBUocDcAN0TvLweoHECtKyfpKHtfivoFKwBK0LrkYJU9zDS1xia3eXxb3l+1yCK6TtWHq5wjXD9/2+8HjPBTp9bSU9fIdr9NHoEHum5BS8aPJwlWt03/fhCtbDTNW0S8yznbukL4bDIafgedMuMQDB1B9YrSZ6vR4cWhJj/R17/t8Q6vlSqNH4yNFqLKSUIgxD0Wq1bATrtz/DdgjVYjTxY9fxo5/Hsq7jHt6nPMLZrt28LYYHA9H9ssu1JH5E6ULcw3tcoyvs8UEQcK7hPdNH1+bb1kbiaEGzWdsk+CPbLuHpdTzmFLxt2oebXKNfCi/+8xEyWPO/SH70hY0CltM24qWtZAKvvbtrE0BSMh0wrpOXjQm8vvG6QN59Exdr8nB0CG1zBRHHYFGl34mHUP2HxwXw7pOk2NPKrXkWUl7ZVH6CHEtVgUsx8F2GYt+6FAMj5jJaHg2ai62g/SjFgvZaWi2DkArPXC2DOo2ZWo8j3pR5AboWQrv0rFVTRjo2FqO21wqVCRYovJ+n+78oUu1Q+vrete3lKjhzm7lO6B8BBgB8J7RN6+5xZwAAAABJRU5ErkJggg==)
      22 22,
    auto;
  transition: opacity 0.4s ease-out;
}

.vue-product-carousel .block-image .main-image.background-loading {
  opacity: 0;
}

.vue-product-carousel .block-image .block-image-carousel {
  position: absolute;
  top: 0;
  left: 40px;
  overflow: visible;
  transform: translateX(0);
  transition: transform 0.3s ease-in-out;
}

.vue-product-carousel .block-image .block-image-carousel .swipe-wrap {
  height: auto;
  position: absolute;
  top: 50%;
  left: 0;
  transform: translateY(-50%);
}

.vue-product-carousel .block-image .block-image-carousel a {
  display: block;
  width: 43px;
  height: 55px;
  margin-bottom: 14px;
  opacity: 0.5;
  background: no-repeat 50%;
  background-size: cover;
  transition: opacity 0.4s ease-out;
}

.vue-product-carousel .block-image .block-image-carousel a.selected,
.vue-product-carousel .block-image .block-image-carousel a:hover {
  opacity: 1;
}

.vue-product-carousel .block-image .block-image-carousel:last-child a {
  margin-bottom: 0;
}

.vue-product-carousel .block-image .block-image-carousel a.background-loading {
  opacity: 0;
}

.vue-product-carousel .block-details {
  float: right;
  width: 33.33%;
  height: 100%;
  background: #fff;
  overflow-y: auto;
  border-left: 1px solid #e1e1e1;
  transform: translateX(0);
  transition: transform 0.3s ease-in-out;
}

.vue-product-carousel.zoomed .block-image {
  right: 0 !important;
}

.vue-product-carousel.zoomed .block-image .main-image {
  cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFREFEQjk0RUE5NjMxMUU0OUYzRkEzMTk0QTU0RDA0MSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFREFEQjk0RkE5NjMxMUU0OUYzRkEzMTk0QTU0RDA0MSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkEwQTU0Njg5QTk2MzExRTQ5RjNGQTMxOTRBNTREMDQxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkEwQTU0NjhBQTk2MzExRTQ5RjNGQTMxOTRBNTREMDQxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+B9BfJAAAA0ZJREFUeNrsmV9IU3EUx4/mJlQYpA9JMzVLbVOMUughIiUQTKIwnBZEj42cQU/W21BqvZQUoUH05KMvYn9MKKcGEfmnvBvU1h4255N/EszCWTudX/wWa95NvL+77Q468OGO+9s9v+/vcO89v3tOBiJCOlkmpJllqbDgGqKWqCZKib3EDj6+SswRbmKCGCHeEyHFM7JbQgEG4jbhx62bn19rUDL3Vi/IJR4Sayhua9xXbqIENxPzqL4xn2Y1BWcRPZh46+FzCQneTgxi8myQz6lIMFvtACbfBuJFOp7gXkyd9W5VsBlTb61y2jJkUnMu8YnIS3FSWyLKifnNUnOXBsQy2010Rp+MjvA+4guh08jWYZ04QPhjRdiiIbHAtVhiRZiJ9xEGjW3QAkRheMMUGeEaEbFerzfmmNvjERFs4No23BJ1Sj06HA6w2Wzgcrk2jPl8Prh3txsmJiZFRNfKCT6q1FsoFIKpqUlobjaDNCP9Pb+4tATd9x/ACC3Ibr8jIrhabj8sibzlLZYrWFS0H00VVfhxRsLp6Q947rwZC4pK0NxyAUfHxkTcS3KZbkE0NbVfu46FxQfRWHkErfTbQGLrG8+g2+0Rdb0gl+nWCL3oI338RB3MBuZAn62HH99X4cWzQSgvKwWdTuhtGSSyVf8I/bq8DEbjIbqnf8HP4DpkZW6DXTk5omJjfjWviDjy+2ehs+sWvBpxQH7+HmhoqIdM8n66sREkSRLVuaLqQ+cYHcWzTU1YUFiCFy9dRqfL9ef81TYrPYjFaDQa0el0qv7Q9Sv1Njw8jJVVh/Fk7Smckf5ddxuJNpkqsIkWJGD9coJviHi0WttxfPwNBoPBDWMdHTdxaOiliPsOubfEMeKtRgs+TNu7tN/8sBN9GoxuX2RpK3oDz6LrVSOBqGQsYZTwKMtu4NnAYw1F90mkWLkIhz9CP/NjKm2RKOPHuB+h7A9tGohue7TYzcqtqSykPFJS+dGnsFSlFykGPk+i2KcixcAwuiTdHr18LtUK2i0JLGi3JqplkMcLz2q1DHq4z4T1OCKbMnYioEBogF+rqCmTIdhYDLe96niZoJSn9518/BvPVKztxQoTr0XbXqKC/3dCN7PfAgwAslrWBtYSeXgAAAAASUVORK5CYII=)
      22 22,
    auto;
}

.vue-product-carousel.zoomed .block-image .block-image-carousel {
  transform: translateX(-500px);
}

.vue-product-carousel.zoomed .block-details {
  transform: translateX(100%);
}

.swipe-wrap,
.vue-product-carousel .swipe {
  visibility: visible;
  height: 100%;
}

.vue-product-carousel .swipe-wrap > div {
  float: left;
  width: 100%;
  position: relative;
}

@media screen and (max-width: 1279px) {
  .vue-product-carousel .block-image {
    right: 33.33%;
  }

  .vue-product-carousel .block-details {
    width: 33.33%;
  }
}

@media screen and (max-width: 1023px) {
  .vue-product-carousel {
    position: static;
    left: 0;
    right: 0;
    height: auto;
    transform: none;
  }

  .vue-product-carousel .block-image {
    position: static;
    right: 0;
    height: 650px;
    background: #fff;
  }

  .vue-product-carousel .block-image .main-image {
    display: none;
  }

  .vue-product-carousel .block-image .block-image-carousel {
    overflow: hidden;
    position: relative;
    top: auto;
    left: auto;
    width: 100%;
    height: 583px;
  }

  .vue-product-carousel .block-image .block-image-carousel .swipe-wrap {
    position: relative;
    top: auto;
    left: auto;
    transform: none;
    height: 100%;
    width: 100%;
  }

  .vue-product-carousel .block-image .block-image-carousel .swipe-wrap > div {
    height: 100%;
  }

  .vue-product-carousel .block-image .block-image-carousel a {
    width: 100%;
    height: 100%;
    opacity: 1;
  }

  .vue-product-carousel .block-image .swipe-dots {
    display: block;
    padding: 25px 0;
    margin: 0 80px;
    width: auto;
    z-index: 10;
    text-align: center;
    border-bottom: 1px solid #e1e1e1;
  }

  .vue-product-carousel .block-image .swipe-dots .btn-swipe {
    display: inline-block;
    text-indent: -5000px;
    overflow: hidden;
    height: 10px;
    width: 10px;
    border-radius: 10px;
    border: 1px solid #1e2226;
    margin: 0 2px;
  }

  .vue-product-carousel .block-image .swipe-dots .btn-swipe.selected,
  .vue-product-carousel .block-image .swipe-dots .btn-swipe:hover {
    background: #1e2226;
  }

  .vue-product-carousel .block-details {
    position: static;
    left: 0;
    top: 0;
    width: 100%;
  }
}

@media screen and (max-width: 640px) {
  .vue-product-carousel .block-image .swipe-dots {
    margin: 0 25px;
  }
}
</style>
